<!DOCTYPE html>
<html ng-app="HomeModule">

<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script data-require="angular.js@1.4.4" data-semver="1.4.4" src="https://code.angularjs.org/1.4.4/angular.js"></script>
  <script src="https://jspm.io/system@0.16.js"></script>
  <script src="https://gitcdn.xyz/repo/angular/bower-material/v0.11.0/angular-material.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-animate.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-messages/1.4.9/angular-messages.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-aria.js"></script>
  <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-114/assets-cache.js"></script>
  <script src="script.js"></script>

  <link rel="stylesheet" href="https://gitcdn.xyz/repo/angular/bower-material/v0.11.0/angular-material.css">
  <link rel="stylesheet" href="style.css">

  <!-- Google fonts import -->
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
  <!-- Bootstrap import -->
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
</head>

<body>
  <!-- Start of the container -->
  <div class="container" ng-controller="HomeController">
    <div ng-include="'milesheader.html'" ng-show="user"></div>

    <!-- Form for choosing a report type -->
    <form name="HomeForm">
      <div class="form-horizontal">
        <div class="form-group">
          <label for="report-type" class="col-sm-1 control-label">Reports</label>
          <div class="col-sm-6">
            <select class="form-control" id="report-type" ng-model="selected_report">
              <option value="None" disabled selected>Please choose a type of report</option>
              <option value="Link Performance">Link Performance</option>
              <option value="Opens">Opens</option>
              <option value="List Effectiveness">List Effectiveness</option>
              <option value="Device Usage">Device Usage</option>
            </select>
          </div>
        </div>
      </div>
      <!-- Label for status of reports -->
      <div class="form-horizontal">
        <div class="form-group">
          <label for="status" class="col-md-8" id="UpdateReportInstruction">
            {{Chosen_Report_Message}}
          </label>
        </div>
      </div>

      <!-- Form for choosing particular miles client-->
      <!-- Behind the scenes, Angular creates models (i.e. ng-model="client_model") to pass the text input values as variables to the data mining algorithms-->
      <!--What ng-model does is behind the scenes it’s going to add a property up in the memory called “client_model” into what’s called “the scope”.-->
      <div class="form-horizontal">
        <div class="form-group">
          <label for="client-type" class="col-sm-1 control-label" id="clientlabelid" name="clientid">Miles Client: </label>
          <div class="col-sm-4">
            <select class="input-block-level form-control" ng-model="client_list" id="client_list_id">
              <option value="None" disabled selected>Please select a client</option>
              <option ng-repeat="client in client_names track by $index">{{client.client_name}}</option>
              <option value="">Not Listed</option>
            </select>
            <input class="input-block-level ng-valid ng-dirty form-control" ng-model="new_client" ng-show="!client_list" type="text" placeholder="Type in Client" id="new_client_ta">
          </div>
        </div>
      </div>
      <!-- form for choosing email campaign-->
      <div class="form-horizontal">
        <div class="form-group">
          <label for="email-campaign" class="col-sm-1 control-label" id="emailcampaignid" name="emailcampaignid">Email Campaign: </label>
          <div class="col-sm-4">
            <input type="text" class="form-control" id="emailcampaign_ta" name="emailcampaign_ta" ng-model="email_campaign_value" />
          </div>
        </div>
      </div>
      <!-- form for selecting particular email -->
      <div class="form-horizontal">
        <div class="form-group">
          <label for="single-email" class="col-sm-1 control-label" id="specificemailid" name="specificemailid">Specific Email: </label>
          <div class="col-sm-4">
            <input type="text" class="form-control" id="specificemail_ta" name="specificemail_ta" ng-model="specific_email_value" />
          </div>
        </div>
      </div>
      <!-- form for choosing date range-->
      <div class="form-horizontal">
        <div class="form-group">
          <label for="date-ranges" class="col-sm-1 control-label">Ranges: </label>
          <div class="col-sm-4">
            <select class="input-block-level form-control" ng-model="selected_range">
              <option value="None" disable selected>Please select a date range</option>
              <option value="From To">From To</option>
              <option value="Single Day">Single Day</option>
              <option value="One Week">One Week</option>
              <option value="One Month">One Month</option>
            </select>
          </div>
        </div>
      </div>

      <div id="dp1and2_div" style='display: none;'>
        <div ng-messages="HomeForm.dateField.$error" class="control-label" style="color:red" role="alert">
          <ng-message when="required" translate>The starting and ending dates are required!</ng-message>
        </div>
        <!-- form for selecting start date-->
        <div class="form-horizontal">
          <div class="form-group">
            <label for="start-date" class="col-sm-2 control-label">Select start date: </label>
            <div class="col-sm-6">
              <md-datepicker required name="dateField" id="start-date" ng-model="modified_start_date" md-placeholder="Enter date" ng-change="$parent.modified_start_date = modified_start_date.toISOString()">
              </md-datepicker>
            </div>
          </div>
        </div>
        <!-- form for selecting end date -->
        <div class="form-horizontal">
          <div class="form-group">
            <label for="end-date" class="col-sm-2 control-label">Select end date: </label>
            <div class="col-sm-6">
              <md-datepicker required name="dateField" id="end-date" ng-model="modified_end_date" md-placeholder="Enter date" ng-change="$parent.modified_end_date = modified_end_date.toISOString()">
              </md-datepicker>
            </div>
          </div>
        </div>

      </div>
      <!-- form for selecting single date-->
      <div id="single_day_div" style='display: none;'>
        <div ng-messages="HomeForm.dateField.$error" style="color:red" role="alert">
          <ng-message when="required" translate>The starting date is required!</ng-message>
        </div>
        <div class="form-horizontal">
          <div class="form-group">
            <label for="single-date" class="col-sm-2 control-label" id="singledayid" name="singledayid">Single Day: </label>
            <div class="col-sm-4">
              <md-datepicker required name="dateField" id="single-date" ng-model="modified_start_date" md-placeholder="Enter date" ng-change="$parent.modified_start_date = modified_start_date.toISOString()">
              </md-datepicker>
            </div>
          </div>
        </div>
      </div>
      <!-- form for selecting week-->
      <div id="one_week_div" style='display: none;'>
        <div ng-messages="HomeForm.dateField.$error" style="color:red" role="alert">
          <ng-message when="required" translate>The starting date is required!</ng-message>
        </div>
        <div class="form-horizontal">
          <div class="form-group">
            <label for="week-date" class="col-sm-3 control-label" id="oneweekid" name="oneweekid">One Week Beginning On: </label>
            <div class="col-sm-4">
              <md-datepicker required name="dateField" id="week-date" ng-model="modified_start_date" md-placeholder="Enter date" ng-change="$parent.modified_start_date = modified_start_date.toISOString()">
              </md-datepicker>
            </div>
          </div>
        </div>
      </div>
      <!-- form for selecting month -->
      <div id="one_month_div" style='display: none;'>
        <div ng-messages="HomeForm.dateField.$error" style="color:red" role="alert">
          <ng-message when="required" translate>The starting date is required!</ng-message>
        </div>
        <div class="form-horizontal">
          <div class="form-group">
            <label for="month-date" class="col-sm-2 control-label" id="onemonthid" name="onemonthid">30 Days Beginning On: </label>
            <div class="col-sm-4">
              <md-datepicker required name="dateField" id="month-date" ng-model="modified_start_date" md-placeholder="Enter date" ng-change="$parent.modified_start_date = modified_start_date.toISOString()">
              </md-datepicker>
            </div>
          </div>
        </div>
      </div>
      <!-- Run Report button-->
      <div class="row col-md-4">
        <button type="button" class="btn btn-primary btn-lg active" ng-click="generateReport(selected_report, selected_range, client_list.value, new_client, email_campaign_value, specific_email_value, modified_start_date, modified_end_date)">
          Run Report
        </button>
      </div>
      <div class="clearfix"></div>
      <div style="display: none;" id="RunButtonClicked">
        {{running_test_message}}
      </div>

      <div>
        {{error}}
      </div>
      <div style="display: none; color: red" id="NotEnoughForReport">
        {{Not_Enough}}
      </div>
      <div ng-style="{'height':'100px', 'margin-top':'10px', 'border':'1px white', 'background-color':'#3399FF'}"></div>
      <div>
        {{Informal_Message}} <a style="color:#3399FF" href="mailto:mscholzjr@gmail.com?subject=Miles Email Miner Errors">here</a>
      </div>
    </form>
  </div> <!-- end of container-->
</body>
</html>